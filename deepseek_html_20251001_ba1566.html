<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incubadora de Bacterias con Energ√≠a Solar</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card h2 {
            margin-bottom: 15px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card h2 i {
            color: #fdbb2d;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #4CAF50;
            animation: pulse 2s infinite;
        }
        
        .indicator.off {
            background-color: #f44336;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .unit {
            font-size: 1rem;
            opacity: 0.8;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        button {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        button:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        button.active {
            background: #4CAF50;
        }
        
        .incubator-system {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
        }
        
        .lens-system {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
        }
        
        .lens {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #ffeb3b, #ff9800);
            box-shadow: 0 0 20px rgba(255, 152, 0, 0.7);
            position: relative;
            animation: lensGlow 3s infinite alternate;
        }
        
        @keyframes lensGlow {
            0% { box-shadow: 0 0 15px rgba(255, 152, 0, 0.7); }
            100% { box-shadow: 0 0 25px rgba(255, 152, 0, 0.9); }
        }
        
        .light-beam {
            width: 8px;
            height: 80px;
            background: linear-gradient(to bottom, rgba(255, 152, 0, 0.8), transparent);
            margin: 0 auto;
        }
        
        .incubator-box {
            width: 300px;
            height: 200px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.2);
            margin-top: 10px;
        }
        
        .incubator-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: rgba(0, 0, 0, 0.4);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .incubator-label {
            position: absolute;
            top: 8px;
            left: 10px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .heat-holes {
            position: absolute;
            top: 5px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 40px;
        }
        
        .heat-hole {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(255, 152, 0, 0.3);
            border: 1px dashed rgba(255, 152, 0, 0.5);
        }
        
        .bacteria {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            opacity: 0.7;
        }
        
        .temp-display {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .heat-waves {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }
        
        .heat-wave {
            position: absolute;
            border-radius: 50%;
            border: 1px solid rgba(255, 152, 0, 0.3);
            animation: heatPulse 3s infinite;
        }
        
        @keyframes heatPulse {
            0% { 
                transform: scale(0.5);
                opacity: 0.7;
            }
            100% { 
                transform: scale(1.5);
                opacity: 0;
            }
        }
        
        .data-log {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }
        
        .log-entry {
            padding: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
        }
        
        .log-time {
            opacity: 0.7;
            font-size: 0.8rem;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            opacity: 0.8;
            font-size: 0.9rem;
        }
        
        .sun-position {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .sun-slider {
            flex-grow: 1;
        }
        
        .mechanism-explanation {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Incubadora de Bacterias con Energ√≠a Solar</h1>
            <p class="subtitle">Sistema T√©rmico con Lentes - Usando Concentraci√≥n Solar para Calefacci√≥n</p>
        </header>
        
        <div class="main-content">
            <div class="card">
                <h2><i>‚òÄÔ∏è</i> Sistema Solar T√©rmico</h2>
                <div class="status-indicator">
                    <div class="indicator" id="solar-status"></div>
                    <span id="solar-status-text">Lentes Enfocando Luz Solar</span>
                </div>
                <div class="value" id="solar-heat">0 W</div>
                <div class="progress-bar">
                    <div class="progress" id="heat-progress" style="width: 65%"></div>
                </div>
                <p>Intensidad de Calor: <span id="heat-intensity">65%</span></p>
                
                <div class="sun-position">
                    <span>Posici√≥n del Sol:</span>
                    <input type="range" id="sun-position" min="0" max="100" value="50" class="sun-slider">
                </div>
                
                <div class="incubator-system">
                    <div class="lens-system">
                        <div class="lens" id="lens-1"></div>
                        <div class="lens" id="lens-2"></div>
                        <div class="lens" id="lens-3"></div>
                    </div>
                    <div class="light-beam" id="beam-1"></div>
                    <div class="light-beam" id="beam-2"></div>
                    <div class="light-beam" id="beam-3"></div>
                    <div class="incubator-box">
                        <div class="heat-holes">
                            <div class="heat-hole"></div>
                            <div class="heat-hole"></div>
                            <div class="heat-hole"></div>
                        </div>
                        <div class="incubator-label">C√ÅMARA DE INCUBACI√ìN T√âRMICA</div>
                        <div class="heat-waves" id="heat-waves"></div>
                        <div class="temp-display" id="incubator-temp">37.2¬∞C</div>
                    </div>
                </div>
                
                <div class="mechanism-explanation">
                    <p><strong>C√≥mo funciona:</strong> Tres lentes solares enfocan la luz solar a trav√©s de orificios en el techo de la incubadora, calentando el interior. La caja aislada retiene el calor para mantener la temperatura √≥ptima para el crecimiento bacteriano.</p>
                </div>
            </div>
            
            <div class="card">
                <h2><i>ü¶†</i> C√°mara de Incubaci√≥n</h2>
                <div class="status-indicator">
                    <div class="indicator" id="incubator-status"></div>
                    <span id="incubator-status-text">Manteniendo Temperatura</span>
                </div>
                <div class="value" id="temperature">37.2<span class="unit">¬∞C</span></div>
                <div class="progress-bar">
                    <div class="progress" id="temp-progress" style="width: 74%"></div>
                </div>
                <p>Objetivo: 37.0¬∞C | Humedad: 65%</p>
                
                <div class="controls">
                    <button id="btn-day">Modo D√≠a</button>
                    <button id="btn-night" class="active">Modo Noche</button>
                    <button id="btn-reset">Reiniciar</button>
                </div>
                
                <div style="margin-top: 20px;">
                    <label for="temp-range">Temperatura Objetivo: <span id="target-temp">37.0</span>¬∞C</label>
                    <input type="range" id="temp-range" min="20" max="45" step="0.5" value="37.0" style="width: 100%; margin: 10px 0;">
                </div>
                
                <div>
                    <label for="insulation-range">Nivel de Aislamiento: <span id="insulation-level">Medio</span></label>
                    <input type="range" id="insulation-range" min="1" max="3" step="1" value="2" style="width: 100%; margin: 10px 0;">
                </div>
            </div>
        </div>
        
        <div class="grid-2">
            <div class="card">
                <h2><i>üìà</i> M√©tricas de Crecimiento</h2>
                <p>Recuento de Bacterias: <span id="bacteria-count">25</span></p>
                <div class="progress-bar">
                    <div class="progress" id="growth-progress" style="width: 25%"></div>
                </div>
                <p>Fase de Crecimiento: <span id="growth-phase">Fase de Latencia</span></p>
                
                <p style="margin-top: 15px;">Tiempo de Incubaci√≥n: <span id="incubation-time">00:00:00</span></p>
                <div class="progress-bar">
                    <div class="progress" id="time-progress" style="width: 10%"></div>
                </div>
            </div>
            
            <div class="card">
                <h2><i>üìä</i> Registro del Sistema</h2>
                <div class="data-log" id="data-log">
                    <!-- Las entradas del registro ser√°n a√±adidas por JS -->
                </div>
            </div>
        </div>
        
        <footer>
            <p>Simulaci√≥n de Prototipo | Incubadora de Bacterias con Energ√≠a Solar T√©rmica | Sistema de Calefacci√≥n con Lentes</p>
        </footer>
    </div>

    <script>
        // Elementos DOM
        const solarStatus = document.getElementById('solar-status');
        const solarStatusText = document.getElementById('solar-status-text');
        const solarHeat = document.getElementById('solar-heat');
        const heatProgress = document.getElementById('heat-progress');
        const heatIntensity = document.getElementById('heat-intensity');
        
        const incubatorStatus = document.getElementById('incubator-status');
        const incubatorStatusText = document.getElementById('incubator-status-text');
        const temperature = document.getElementById('temperature');
        const tempProgress = document.getElementById('temp-progress');
        const incubatorTemp = document.getElementById('incubator-temp');
        
        const btnDay = document.getElementById('btn-day');
        const btnNight = document.getElementById('btn-night');
        const btnReset = document.getElementById('btn-reset');
        
        const tempRange = document.getElementById('temp-range');
        const targetTemp = document.getElementById('target-temp');
        const insulationRange = document.getElementById('insulation-range');
        const insulationLevel = document.getElementById('insulation-level');
        const sunPosition = document.getElementById('sun-position');
        
        const bacteriaCount = document.getElementById('bacteria-count');
        const growthProgress = document.getElementById('growth-progress');
        const growthPhase = document.getElementById('growth-phase');
        const incubationTime = document.getElementById('incubation-time');
        const timeProgress = document.getElementById('time-progress');
        
        const dataLog = document.getElementById('data-log');
        const incubatorBox = document.querySelector('.incubator-box');
        const heatWaves = document.getElementById('heat-waves');
        const lenses = [document.getElementById('lens-1'), document.getElementById('lens-2'), document.getElementById('lens-3')];
        const beams = [document.getElementById('beam-1'), document.getElementById('beam-2'), document.getElementById('beam-3')];
        
        // Estado de la Simulaci√≥n
        let isDaytime = false;
        let currentTemp = 25.0;
        let targetTemperature = 37.0;
        let solarHeatOutput = 0;
        let heatIntensityValue = 65;
        let bacteriaPopulation = 25;
        let growthRate = 1.0;
        let startTime = new Date();
        let elapsedTime = 0;
        let timerInterval;
        let insulationValue = 2; // 1=Bajo, 2=Medio, 3=Alto
        
        // Inicializar simulaci√≥n
        function init() {
            createBacteria();
            createHeatWaves();
            updateLog("Sistema inicializado. Incubadora t√©rmica lista.");
            updateLog("Sistema de lentes calibrado. Esperando luz solar.");
            startTimer();
            simulate();
            
            // Event listeners para controles
            btnDay.addEventListener('click', () => {
                isDaytime = true;
                btnDay.classList.add('active');
                btnNight.classList.remove('active');
                updateLog("Modo d√≠a activado. Lentes enfocando luz solar.");
            });
            
            btnNight.addEventListener('click', () => {
                isDaytime = false;
                btnNight.classList.add('active');
                btnDay.classList.remove('active');
                updateLog("Modo noche activado. Usando calor almacenado.");
            });
            
            btnReset.addEventListener('click', () => {
                isDaytime = false;
                currentTemp = 25.0;
                targetTemperature = 37.0;
                solarHeatOutput = 0;
                heatIntensityValue = 65;
                bacteriaPopulation = 25;
                growthRate = 1.0;
                tempRange.value = 37.0;
                insulationRange.value = 2;
                sunPosition.value = 50;
                startTime = new Date();
                elapsedTime = 0;
                updateTimer();
                updateDisplays();
                updateLog("Sistema reiniciado al estado inicial.");
                
                // Reiniciar bacterias
                const bacteriaContainer = document.querySelector('.incubator-box');
                const bacteriaElements = bacteriaContainer.querySelectorAll('.bacteria');
                bacteriaElements.forEach(bact => bact.remove());
                createBacteria();
                
                btnNight.classList.add('active');
                btnDay.classList.remove('active');
            });
            
            tempRange.addEventListener('input', () => {
                targetTemperature = parseFloat(tempRange.value);
                targetTemp.textContent = targetTemperature.toFixed(1);
                updateLog(`Temperatura objetivo cambiada a ${targetTemperature.toFixed(1)}¬∞C`);
            });
            
            insulationRange.addEventListener('input', () => {
                insulationValue = parseInt(insulationRange.value);
                const levels = ["Bajo", "Medio", "Alto"];
                insulationLevel.textContent = levels[insulationValue - 1];
                updateLog(`Nivel de aislamiento establecido en ${levels[insulationValue - 1]}`);
            });
            
            sunPosition.addEventListener('input', () => {
                updateLensFocus();
            });
        }
        
        // Crear bacterias en la incubadora
        function createBacteria() {
            for (let i = 0; i < bacteriaPopulation; i++) {
                addBacterium();
            }
        }
        
        // A√±adir una sola bacteria
        function addBacterium() {
            const bacterium = document.createElement('div');
            bacterium.className = 'bacteria';
            bacterium.style.left = `${10 + Math.random() * 280}px`;
            bacterium.style.top = `${40 + Math.random() * 150}px`;
            bacterium.style.animation = `pulse ${2 + Math.random() * 3}s infinite`;
            incubatorBox.appendChild(bacterium);
        }
        
        // Crear visualizaci√≥n de ondas de calor
        function createHeatWaves() {
            for (let i = 0; i < 3; i++) {
                const wave = document.createElement('div');
                wave.className = 'heat-wave';
                wave.style.left = `${60 + i * 90}px`;
                wave.style.top = '30px';
                wave.style.width = '40px';
                wave.style.height = '40px';
                wave.style.animationDelay = `${i * 1}s`;
                heatWaves.appendChild(wave);
            }
        }
        
        // Actualizar enfoque de lentes basado en posici√≥n del sol
        function updateLensFocus() {
            const sunPos = parseInt(sunPosition.value);
            const intensity = 1 - Math.abs(50 - sunPos) / 50;
            
            lenses.forEach((lens, index) => {
                const offset = (index - 1) * 10;
                const lensIntensity = Math.max(0, intensity - Math.abs(offset) / 50);
                
                if (lensIntensity > 0.3 && isDaytime) {
                    lens.style.opacity = '1';
                    lens.style.animation = 'lensGlow 3s infinite alternate';
                    beams[index].style.opacity = '1';
                } else {
                    lens.style.opacity = '0.5';
                    lens.style.animation = 'none';
                    beams[index].style.opacity = '0.3';
                }
            });
        }
        
        // Iniciar el temporizador de incubaci√≥n
        function startTimer() {
            startTime = new Date();
            timerInterval = setInterval(updateTimer, 1000);
        }
        
        // Actualizar el temporizador de incubaci√≥n
        function updateTimer() {
            elapsedTime += 1;
            
            const hours = Math.floor(elapsedTime / 3600);
            const minutes = Math.floor((elapsedTime % 3600) / 60);
            const seconds = elapsedTime % 60;
            
            incubationTime.textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Actualizar progreso del tiempo (asumiendo ciclo de incubaci√≥n de 24 horas)
            const progress = Math.min(100, (elapsedTime / (24 * 3600)) * 100);
            timeProgress.style.width = `${progress}%`;
        }
        
        // Bucle principal de simulaci√≥n - CORREGIDO
        function simulate() {
            // Calcular calor solar basado en hora del d√≠a y posici√≥n del sol
            if (isDaytime) {
                const sunPos = parseInt(sunPosition.value);
                const intensity = 1 - Math.abs(50 - sunPos) / 50;
                solarHeatOutput = 80 * intensity;
                heatIntensityValue = Math.floor(intensity * 100);
            } else {
                solarHeatOutput = 5; // Calor ambiental m√≠nimo por la noche
                heatIntensityValue = 10;
            }
            
            // Actualizar temperatura basada en calefacci√≥n y aislamiento
            const tempDiff = targetTemperature - currentTemp;
            const heatFactor = solarHeatOutput / 100;
            const insulationFactor = insulationValue / 3;
            
            if (solarHeatOutput > 20) {
                // Calentamiento desde lentes
                currentTemp += heatFactor * 0.5 + (Math.random() - 0.5) * 0.1;
            } else {
                // Enfriamiento (m√°s lento con mejor aislamiento)
                currentTemp -= (0.05 / insulationFactor) + (Math.random() * 0.05);
            }
            
            // ACTUALIZACI√ìN DE CRECIMIENTO BACTERIANO - CORREGIDA
            if (currentTemp > 30 && currentTemp < 42) {
                // Condiciones de crecimiento √≥ptimas
                growthRate = 1.5;
                bacteriaPopulation += growthRate * 0.5; // Aumentado de 0.01 a 0.5
            } else if (currentTemp > 25 && currentTemp < 45) {
                // Sub√≥ptimas pero a√∫n creciendo
                growthRate = 0.5;
                bacteriaPopulation += growthRate * 0.2; // Aumentado de 0.005 a 0.2
            } else {
                // Condiciones pobres - crecimiento lento o muerte
                growthRate = 0.1;
                bacteriaPopulation = Math.max(10, bacteriaPopulation - 0.1); // Decrecimiento
            }
            
            // Actualizar texto de fase de crecimiento
            if (bacteriaPopulation < 50) {
                growthPhase.textContent = "Fase de Latencia";
            } else if (bacteriaPopulation < 200) {
                growthPhase.textContent = "Fase Exponencial";
            } else {
                growthPhase.textContent = "Fase Estacionaria";
            }
            
            // Actualizar recuento de bacterias y representaci√≥n visual
            const currentBacteriaCount = Math.floor(bacteriaPopulation);
            bacteriaCount.textContent = currentBacteriaCount;
            
            const bacteriaElements = document.querySelectorAll('.bacteria');
            const difference = currentBacteriaCount - bacteriaElements.length;
            
            if (difference > 0) {
                // A√±adir nuevas bacterias
                for (let i = 0; i < difference; i++) {
                    addBacterium();
                }
            } else if (difference < 0) {
                // Eliminar algunas bacterias (si la poblaci√≥n disminuy√≥)
                for (let i = 0; i < Math.abs(difference); i++) {
                    if (bacteriaElements[i]) {
                        bacteriaElements[i].remove();
                    }
                }
            }
            
            // Actualizar progreso de crecimiento
            const growthPercent = Math.min(100, (bacteriaPopulation / 300) * 100);
            growthProgress.style.width = `${growthPercent}%`;
            
            // Actualizar indicadores de estado
            if (isDaytime && solarHeatOutput > 30) {
                solarStatusText.textContent = "Lentes Enfocando Luz Solar";
                solarStatus.classList.remove('off');
            } else if (isDaytime) {
                solarStatusText.textContent = "Luz Solar D√©bil - Reposicionar Lentes";
                solarStatus.classList.remove('off');
            } else {
                solarStatusText.textContent = "Noche - Usando Calor Almacenado";
                solarStatus.classList.add('off');
            }
            
            if (Math.abs(currentTemp - targetTemperature) < 0.5) {
                incubatorStatusText.textContent = "Temperatura √ìptima";
            } else if (currentTemp < targetTemperature) {
                incubatorStatusText.textContent = "Calentando...";
            } else {
                incubatorStatusText.textContent = "Sobrecalentamiento - Reduciendo Enfoque";
            }
            
            updateDisplays();
            
            // Ocasionalmente a√±adir entradas al registro
            if (Math.random() < 0.03) {
                const messages = [
                    "Lentes t√©rmicas enfocando luz solar en la c√°mara.",
                    "Aislamiento manteniendo temperatura estable.",
                    "Cultivo bacteriano respondiendo a condiciones t√©rmicas.",
                    "Intensidad de calor solar en nivel √≥ptimo.",
                    "Temperatura estable dentro del rango objetivo.",
                    "Alineaci√≥n de lentes manteniendo el enfoque.",
                    "Incubadora reteniendo calor eficientemente."
                ];
                updateLog(messages[Math.floor(Math.random() * messages.length)]);
            }
            
            setTimeout(simulate, 1000);
        }
        
        // Actualizar todas las pantallas
        function updateDisplays() {
            // Actualizar pantalla de calor solar
            solarHeat.textContent = `${solarHeatOutput.toFixed(1)} W`;
            heatProgress.style.width = `${heatIntensityValue}%`;
            heatIntensity.textContent = `${heatIntensityValue}%`;
            
            // Actualizar pantalla de temperatura
            temperature.innerHTML = `${currentTemp.toFixed(1)}<span class="unit">¬∞C</span>`;
            incubatorTemp.textContent = `${currentTemp.toFixed(1)}¬∞C`;
            const tempPercent = ((currentTemp - 20) / (45 - 20)) * 100;
            tempProgress.style.width = `${tempPercent}%`;
            
            // Actualizar enfoque de lentes
            updateLensFocus();
            
            // Actualizar animaci√≥n de bacterias basada en temperatura
            const bacteria = document.querySelectorAll('.bacteria');
            bacteria.forEach(bact => {
                const speed = 2 + (currentTemp - 20) / 10 + Math.random() * 2;
                bact.style.animationDuration = `${speed}s`;
            });
            
            // Actualizar intensidad de ondas de calor
            const waves = document.querySelectorAll('.heat-wave');
            waves.forEach(wave => {
                wave.style.borderColor = `rgba(255, 152, 0, ${0.2 + solarHeatOutput/100})`;
            });
        }
        
        // A√±adir entrada al registro de datos
        function updateLog(message) {
            const now = new Date();
            const timeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
            
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.innerHTML = `<span class="log-time">[${timeString}]</span> ${message}`;
            
            dataLog.prepend(logEntry);
            
            // Mantener el registro en un tama√±o razonable
            if (dataLog.children.length > 10) {
                dataLog.removeChild(dataLog.lastChild);
            }
        }
        
        // Inicializar la simulaci√≥n
        init();
    </script>
</body>
</html>